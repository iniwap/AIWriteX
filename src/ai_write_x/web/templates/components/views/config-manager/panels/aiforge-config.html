<!-- 在 aiforge-config.html 中重新组织布局 -->  
<div id="config-aiforge" class="config-panel">  
    <div class="config-header">  
        <div class="header-content">  
            <div>  
                <h2>AIForge</h2>  
                <p class="config-description">设置AIForge搜索引擎的LLM提供商和缓存参数</p>  
            </div>  
        </div>  
    </div>  
      
    <div class="config-form">  
        <!-- 通用设置 -->  
        <div class="config-section">  
            <h3 class="section-title">  
                <i class="icon-settings"></i>  
                通用设置  
            </h3>  
            <div class="form-row">  
                <div class="form-group form-group-third">  
                    <label for="aiforge-locale">语言</label>  
                    <input type="text" id="aiforge-locale" class="form-control" value="中文" disabled>  
                    <small class="form-help">AIForge使用的语言</small>  
                </div>  
                <div class="form-group form-group-third">  
                    <label for="aiforge-max-rounds">最大重试次数</label>  
                    <input type="number" id="aiforge-max-rounds" class="form-control" min="1" max="16">  
                    <small class="form-help">代码生成最大重试次数</small>  
                </div>  
                <div class="form-group form-group-third">  
                    <label for="aiforge-default-max-tokens">默认最大Tokens</label>  
                    <input type="number" id="aiforge-default-max-tokens" class="form-control" min="1024">  
                    <small class="form-help">默认的最大Token数量</small>  
                </div>  
            </div>  
        </div> 

        <div id="aiforge-llm-providers-container">  
            <!-- 动态生成LLM提供商卡片 -->  
        </div>  

        <!-- 代码缓存设置 -->  
        <div class="config-section">  
            <h3 class="section-title">  
                <i class="icon-cache"></i>  
                代码缓存设置  
            </h3>  
            
            <!-- 第一行:启用缓存、最大模块数、失败阈值 -->  
            <div class="form-row">  
                <div class="form-group form-group-third">  
                    <label class="checkbox-label">  
                        <input type="checkbox" id="cache-enabled">  
                        <span class="checkbox-custom"></span>  
                        启用缓存  
                    </label>  
                    <small class="form-help">启用代码缓存以提高性能</small>  
                </div>  
                <div class="form-group form-group-third">  
                    <label for="cache-max-modules">最大模块数</label>  
                    <input type="number" id="cache-max-modules" class="form-control" min="1">  
                    <small class="form-help">缓存的最大模块数量</small>  
                </div>  
                <div class="form-group form-group-third">  
                    <label for="cache-failure-threshold">失败阈值</label>  
                    <input type="number" id="cache-failure-threshold" class="form-control" min="0" max="1" step="0.1">  
                    <small class="form-help">触发清理的失败率阈值</small>  
                </div>  
            </div>  
            
            <!-- 第二行:最大保存天数、清理间隔 -->  
            <div class="form-row">  
                <div class="form-group form-group-third">  
                    <label for="cache-max-save-days">最大保存天数</label>  
                    <input type="number" id="cache-max-save-days" class="form-control" min="1">  
                    <small class="form-help">缓存文件的最大保存天数</small>  
                </div>  
                <div class="form-group form-group-third">  
                    <label for="cache-cleanup-interval">清理间隔(小时)</label>  
                    <input type="number" id="cache-cleanup-interval" class="form-control" min="1">  
                    <small class="form-help">自动清理的时间间隔</small>  
                </div>  
            </div>  
        </div> 
          
        <!-- 提示信息 -->  
        <div class="config-notice">  
            <svg class="notice-icon" viewBox="0 0 24 24">  
                <circle cx="12" cy="12" r="10"/>  
                <line x1="12" y1="16" x2="12" y2="12"/>  
                <line x1="12" y1="8" x2="12.01" y2="8"/>  
            </svg>  
            <div class="notice-content">  
                <strong>设置说明:</strong>  
                <ul>  
                    <li>选择一个LLM提供商作为AIForge的默认模型</li>  
                    <li>通用设置和缓存设置通常无需修改</li>  
                    <li>修改设置仅当前运行有效,永久生效需保存设置</li>  
                </ul>  
            </div>  
        </div>  
    </div>  
      
    <div class="config-actions">  
        <button type="button" class="btn btn-primary" id="save-aiforge-config">  
            <i class="icon-save"></i>  
            保存设置  
        </button>  
        <button type="button" class="btn btn-secondary" id="reset-aiforge-config">  
            <i class="icon-reset"></i>  
            恢复默认  
        </button>  
    </div>  
</div>